Добрый день, коллеги!

В качестве проекта была выбрана задача разработки мини-портала для Проектно-конструкторской группы Отдела инновационных технологий (ОИТ ПКГ) Концерна Титан-2 с дополнительным функционалом. 

Предметная облась: Технология машиностроения / Опорно-подвесные системы (ОПС) трубопроводов атомных станций.

Инфраструктура:
Приложение разработано на основе микросервисной архитектуры, с возможностью последующего применения kubernetes и переносом в облачные сервисы.
Портал, SQL сервер и Загрузчик развернуты в Docker-контейнерах на сервере приложений.
Сервер приложений развернут на базе запасного ноутбука Lenovo G580 [i5-3230m, 16gb ram, 240 gb ssd, 100 mbps ethernet controller].
Маршрутизация выполнена с помощью wi-fi роутера, поскольку nginx не позволил быстро сконфигурировать маршрутизацию на сервере.
CI/CD не настроен.

Портал [ http://titan2it.ru/ ] [ https://github.com/newer0ne/repo1 ]
Разработан для быстрого доступа к основной рабочей документации (РД) и данным ОИТ ПКГ.
Состоит из четырех модулей:
1. Пример работы параметрических подвесок.
Демонстрационный материал возможностей параметрического проектирования.
2. Документация отдела.
Разделенный на три раздела ссылочный аппарат для быстрого поиска РД.
3. Общая таблица соответствия.
Состоит из:
- поле для визуальной ориентации в разработанной и применяемой при проектировании АЭС документации. Получает данные запросом в PostgreSQL Server;
- поиск по кодировкам входящих документов "Note" из Ведомостей опор;
- поиск по внутренней кодировке "Каталог КТ-2".
4. Модуль классификации ведомостей ОПС.
Модуль предназначен для классификации поступающих заказов (Ведомостей опор)
по кодировкам каталогов компании Lisega
и Типовым техническим требованиям Проектного института "Атомпроект" в соответствии с внутренней кодировкой.
Работает следующим образом:
- перетянуть ведомость в поле "Drag and drop file here" или нажать "Browse files";
- модуль классификации стыкует с таблицей разработанные документы;
- появляется кнопка "Скачать обработанную ведомость";

Загрузчик [ https://github.com/newer0ne/updater ]
Разработан для загрузки и обновления данных из рабочих таблиц на базе Google Spreadsheets в PostgreSQL Server.
Ежедневный запуск в 12:00
Особенностью всех запросов является проверка наличия таблицы.
В случае наличия таблицы - в ней очищаются все значения для загрузки свежих данных.
В случае отстутсвия таблицы, по той или иной причине, таблица создаётся заново.
Загрузчик применяет как собственные запросы, так и подготовленные процедуры в PostgreSQL Server.

PostgreSQL Server
Принимает в себя данные от разработчиков и отдаёт на портал.
Принимает листы таблиц:
- "Каталог исполнений EN" - 47 листов;
- "База данных классификатора KT2" - 2 листа.
Использует внутренние процедуры:
- "merge_tables_as_one" соединяет и сохраняет 47 таблиц из "Каталога исполнений EN" в одну таблицу - "merged_table";
- "merge_tables_procedure" соединяет и сохраняет каталоги "tab_cataku" и "tab_catkt2" в одну таблицу - "main_table";
- "merge_final" соединяет и сохраняет в "Общую таблицу соответствия" - "final_tab".

Далее планируется внедрить:
- поиск исполнений, разработанных конкретным разработчиком;
- быстрый поиск размеров изделий;
- поиск изделий по диаметру и группе нагрузок для будущего каталога ЛАЭС-2 (3 и 4 очередь).

